
<!doctype html>
<html lang="ko" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="LLM Fine-Tuning 기법을 배우는 워크샵">
      
      
        <meta name="author" content="Jong Hyun Park">
      
      
      
        <link rel="prev" href="../supervised_finetuning/">
      
      
        <link rel="next" href="../peft_methods/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.0, mkdocs-material-9.5.28">
    
    
      
        <title>DPO (Direct Preference Optimization) - LLM Fine-Tuning Course</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6543a935.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#direct-preference-optimization" class="md-skip">
          콘텐츠로 이동
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="상단/헤더">
    <a href="../.." title="LLM Fine-Tuning Course" class="md-header__button md-logo" aria-label="LLM Fine-Tuning Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LLM Fine-Tuning Course
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              DPO (Direct Preference Optimization)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="라이트 모드로 전환"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="라이트 모드로 전환" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="amber" data-md-color-accent="amber"  aria-label="다크 모드로 전환"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="다크 모드로 전환" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="검색" placeholder="검색" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="검색">
        
        <button type="reset" class="md-search__icon md-icon" title="지우기" aria-label="지우기" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            검색 초기화
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="네비게이션" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LLM Fine-Tuning Course" class="md-nav__button md-logo" aria-label="LLM Fine-Tuning Course" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    LLM Fine-Tuning Course
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    홈
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    기본 개념
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            기본 개념
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/llm_background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM Background 지식
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/fine_tuning_basics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Fine-Tuning 기본
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/model_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    모델 유형 및 특징
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../concepts/llm_paradigm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM 패러다임
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    데이터 준비
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            데이터 준비
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_preparation/dataset_creation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    데이터셋 준비
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_preparation/templates_formats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    템플릿과 포맷
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    튜닝 기법
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            튜닝 기법
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../continual_pretraining/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CPT (Continued Pre-Training)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../supervised_finetuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SFT (Supervised Fine-Tuning)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    DPO (Direct Preference Optimization)
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    DPO (Direct Preference Optimization)
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      개요
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Alignment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rlhf-reinforcement-learning-from-human-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF (Reinforcement Learning from Human Feedback)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RLHF (Reinforcement Learning from Human Feedback)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rlhf" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF 파이프라인
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlhf_1" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF의 문제점
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpo-direct-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      DPO (Direct Preference Optimization)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DPO (Direct Preference Optimization)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      핵심 아이디어
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      수학적 원리
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dpo" class="md-nav__link">
    <span class="md-ellipsis">
      DPO의 장점
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      데이터 형식
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zephyr" class="md-nav__link">
    <span class="md-ellipsis">
      실제 적용 사례: Zephyr
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      기타 선호도 최적화 기법
    </span>
  </a>
  
    <nav class="md-nav" aria-label="기타 선호도 최적화 기법">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#orpo-odds-ratio-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      ORPO (Odds Ratio Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simpo-simple-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      SimPO (Simple Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipo-identity-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      IPO (Identity Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kto-kahneman-tversky-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      KTO (Kahneman-Tversky Optimization)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      선호도 최적화 기법 비교
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      결론
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      참고 문헌
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../peft_methods/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PEFT 방법론
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../quantization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    양자화 기법
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../korean_tuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    한국어 확장 튜닝
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    모델 평가
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            모델 평가
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/benchmarks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    벤치마크 및 평가
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/llm_as_judge/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LLM as Judge
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../evaluation/serving_optimization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    서빙 및 최적화
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    활용 사례
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            활용 사례
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../case_studies/alpaca/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alpaca
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../case_studies/deepseek/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DeepSeek
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../case_studies/zephyr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Zephyr
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    실습 가이드
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            실습 가이드
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_guides/gpt_finetuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OpenAI GPT 파인튜닝
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_ipynb/1_openai_finetuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GPT (Chat Model) 파인튜닝 하기!
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_guides/open_weight_finetuning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    오픈 웨이트 파인튜닝
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_guides/dpo_tutorial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DPO 튜닝
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../practice_guides/reasoning_model/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    추론 모델 개발
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="">
            
  
  <span class="md-ellipsis">
    연구 동향 및 프로젝트
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            연구 동향 및 프로젝트
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trends_projects/latest_research/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    최신 연구 동향
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trends_projects/license_data_issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    데이터 및 라이선스
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trends_projects/competition_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    경쟁 모델 개발
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../trends_projects/domain_specific/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    도메인 특화 모델
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="">
            
  
  <span class="md-ellipsis">
    About
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            About
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/jonhpark7966/courses_archive" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Other Courses
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="https://sudormrf.run/jong-hyun-park/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Author
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    <span class="md-ellipsis">
      개요
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alignment" class="md-nav__link">
    <span class="md-ellipsis">
      Alignment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rlhf-reinforcement-learning-from-human-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF (Reinforcement Learning from Human Feedback)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="RLHF (Reinforcement Learning from Human Feedback)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rlhf" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF 파이프라인
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rlhf_1" class="md-nav__link">
    <span class="md-ellipsis">
      RLHF의 문제점
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#dpo-direct-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      DPO (Direct Preference Optimization)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DPO (Direct Preference Optimization)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    <span class="md-ellipsis">
      핵심 아이디어
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    <span class="md-ellipsis">
      수학적 원리
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#dpo" class="md-nav__link">
    <span class="md-ellipsis">
      DPO의 장점
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    <span class="md-ellipsis">
      데이터 형식
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#zephyr" class="md-nav__link">
    <span class="md-ellipsis">
      실제 적용 사례: Zephyr
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    <span class="md-ellipsis">
      기타 선호도 최적화 기법
    </span>
  </a>
  
    <nav class="md-nav" aria-label="기타 선호도 최적화 기법">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#orpo-odds-ratio-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      ORPO (Odds Ratio Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simpo-simple-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      SimPO (Simple Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipo-identity-preference-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      IPO (Identity Preference Optimization)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#kto-kahneman-tversky-optimization" class="md-nav__link">
    <span class="md-ellipsis">
      KTO (Kahneman-Tversky Optimization)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    <span class="md-ellipsis">
      선호도 최적화 기법 비교
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    <span class="md-ellipsis">
      결론
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    <span class="md-ellipsis">
      참고 문헌
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="direct-preference-optimization">Direct Preference Optimization<a class="headerlink" href="#direct-preference-optimization" title="Permanent link">&para;</a></h1>
<h2 id="_1">개요<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<p>Preference Optimization (선호도 최적화)는 LLM을 인간의 선호도와 가치에 맞게 조정하는 기법들을 말합니다. 이러한 방법들은 모델이 더 유용하고, 안전한, 그리고 사람들이 좋아할만한 응답을 생성하도록 만드는 데 중요한 역할을 합니다.</p>
<h2 id="alignment">Alignment<a class="headerlink" href="#alignment" title="Permanent link">&para;</a></h2>
<p>Alignment 는 추상적인 개념이라 설명하게가 조금 어려운데요. LLM 의 학습과정에서 예시를 하나 보겠습니다. </p>
<div style="text-align: center;">
  <img src="../../rscs/align_example.png" alt="Alignment Example">
</div>

<blockquote>
<p>(참고) Base Model 과 Aligned LLM 은 Llama-3.1 의 base 모델과 final 모델을 기준으로 직접 추론시켜본 내용이고요, Instruct 모델의 output 은 학습 중간 단계라서 우리가 직접 볼 수 없기 떄문에 HuggingFace Zephyr의 예시에서 가져왔습니다. </p>
</blockquote>
<p>Alignment 의 목적은 모델이 사람의 의도에 맞게 행동하도록 하는 것입니다. 그것은 내용적인 부분일 수도 있고, 말투나 스타일 일 수도 있고, 어떤 취향일 수도 있습니다.  <br />
위 예시애서는 "피자에 파인애플을 올리는 것" 에 대해 중립적인 대답 혹은 회피성 대답을 하도록 모델을 align 시켰습니다.<br />
우리가 이탈리아 사람을 대상으로 한다면, 공격적으로 "피자에 파인애플은 범죄야!" 라고 대답하게 만들 수도 있고, 하와이 사람이라면 "피자에 파인애플은 맛있어!" 라고 대답하게 만들 수도 있습니다. </p>
<h2 id="rlhf-reinforcement-learning-from-human-feedback">RLHF (Reinforcement Learning from Human Feedback)<a class="headerlink" href="#rlhf-reinforcement-learning-from-human-feedback" title="Permanent link">&para;</a></h2>
<p>RLHF는 인간 피드백을 활용한 강화학습으로, 대화형 AI 모델을 정렬(alignment)하는 전통적인 방법입니다, ChatGPT 탑재된 GPT-3.5 ~ 4 의 모델이 가장 똑똑했었던 이유로 많이 지목 받았습니다.  </p>
<h3 id="rlhf">RLHF 파이프라인<a class="headerlink" href="#rlhf" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>Reward 모델 학습</strong> <ul>
<li>인간 선호도 비교 데이터를 사용해 응답의 품질을 평가하는 reward 모델을 훈련합니다.</li>
<li>OpenAI 의 경우에는 ChatGPT 서비스 운영을 통해 수많은 사람들의 피드백 데이터가 있었기 떄문에 다른 회사들 보다 reward 을 잘 만들 수 있었을 겁니다. </li>
<li>Reward 모델 없이 사람이 직접 답변에 점수를 매길 수도 있긴 한데, scaling이 안되는 문제가 있습니다.</li>
</ul>
</li>
<li><strong>강화학습(RL)</strong><ul>
<li>Reward 모델의 피드백을 최대화하도록 강화학습을 진행합니다. 그러면 모델이 reward 모델이 좋게 평가하는 대답을 내놓게 되죠.</li>
<li>보다 자세한 내용은 PPO (Proximal Policy Optimization) 알고리즘을 참고하세요. </li>
<li>이상적으로는 사람들이 싫어하는 공격적인 대답도 안하게 되고, 사람들이 좋아하는 유머도 잘 하게 되야겠죠.</li>
</ul>
</li>
</ol>
<h3 id="rlhf_1">RLHF의 문제점<a class="headerlink" href="#rlhf_1" title="Permanent link">&para;</a></h3>
<p>Reward 모델이 완벽하다면, 잘 되어야할텐데요... 몇가지 문제가 있습니다. </p>
<ul>
<li>Reward 모델이 자꾸 뚫려버립니다. Reward Hacking 이라고 하는데 강화학습 분야의 오랜 문제입니다. 잘못된 대답도 높은 점수를 받을 수가 있어서 학습이 잘 안되는 경우가 많습니다.</li>
<li>연산량도 많이 필요하고요, 하이퍼파라미터 튜닝의 어려움도 있습니다. </li>
<li>실제로 OpenAI 와 몇 빅테크 회사들을 제외하고는 RLHF 를 성공적으로 수행해낸 사례가 거의 없습니다. </li>
</ul>
<blockquote>
<p>OpenAI 내부에 아주 좋은 Reward 모델이 있다는 추측이 많습니다. 아무래도 ChatGPT의 성공이 인간 데이터를 아주 많이 수집할 수 있게 해줬겠죠. 다른 회사들이 적자를 보더라도 서비스를 성공시키고 싶은데 이유라고도 생각이 되네요. </p>
</blockquote>
<h2 id="dpo-direct-preference-optimization">DPO (Direct Preference Optimization)<a class="headerlink" href="#dpo-direct-preference-optimization" title="Permanent link">&para;</a></h2>
<p>RLHF 가 그렇게 어렵다면! 대안이 있죠. 바로 DPO 입니다. 
DPO는 2023년 Rafailov 등이 제안한 방법으로, RLHF의 복잡한 과정을 단순화하여 인간 선호도를 직접 최적화합니다.<br />
DPO는 Reward 모델 training, 샘플 생성 및 평가 loop, 복잡한 하이퍼파라미터 튜닝 등을 없앴습니다​. 결과적으로 DPO는 RLHF 대비 구현이 간단하고 <strong>안정적</strong>입니다.</p>
<div style="text-align: center;">
  <img src="../../rscs/rlhf_dpo.png" alt="RLHF vs DPO">
</div>

<h3 id="_2">핵심 아이디어<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>DPO는 "Your Language Model is Secretly a Reward Model"이라는 부제에서 알 수 있듯이, 언어 모델 자체가 보상 모델의 역할을 할 수 있다는 통찰에 기반합니다. 이 방법은 RLHF의 최적 정책을 직접 유도하여 단일 단계의 지도학습으로 구현합니다.</p>
<h3 id="_3">수학적 원리<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h3>
<p>DPO는 브래들리-테리(Bradley-Terry) 모델과 유사한 방식으로, 두 응답 간의 선호도를 모델링합니다:</p>
<p>$$p_\theta(y_w \succ y_l \mid x) = \sigma(r_\theta(x, y_w) - r_\theta(x, y_l))$$</p>
<p>여기서 핵심은 보상 함수 $$r_\theta$$ 를 언어 모델의 로그 확률로 재매개변수화하는 것입니다:</p>
<p>$$ r_\theta(x,y) = \beta \Big(\log \pi_\theta(y\mid x) - \log \pi_{\text{ref}}(y\mid x)\Big) $$</p>
<hr />
<p>$$\pi_{\text{ref}}$$ 는 초기 모델
$$\pi_\theta$$ 는 학습 중인 모델
$$\beta$$는 조절 가능한 스케일 하이퍼파라미터로, 참조 모델 대비 새로운 모델의 확률을 얼마나 강조할지를 결정합니다. </p>
<h3 id="dpo">DPO의 장점<a class="headerlink" href="#dpo" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>단순성</strong>: 별도의 Reward 모델이나 강화학습 없이 단일 단계의 Supervised Learning 으로 구현했습니다. </li>
<li><strong>효율성</strong>: 샘플링이나 반복적인 강화학습 loop이 필요 없어 계산 비용 절감되었습니다. </li>
</ul>
<p>위 두 요소를 통해, RLHF 보다 더 안정적이고 효율적인 학습을 할 수 있습니다. 
Optimization이 closed-form 이라 안정적이니, 실제로 더 좋으니 뭐니 말이 많지만요...</p>
<table>
<thead>
<tr>
<th>💡 필자의 의견</th>
</tr>
</thead>
<tbody>
<tr>
<td>RLHF 는 어렵고 DPO 는 쉽습니다. 그게 다 라고 생각합니다. 큰 그룹들에서는 RLHF 를 성공시킨 반면에  작은 그룹들(특히 오픈 진영)에서는 RLHF 를 성공시킨 사례가 찾기 힘드네요. DPO 는 그 대안으로서 아주 좋은 선택지입니다.</td>
</tr>
</tbody>
</table>
<h3 id="_4">데이터 형식<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h3>
<p>DPO 학습을 위해서는 선호도 비교 데이터셋 (프롬프트 x, 선호 응답 y_w, 비선호 응답 y_l) 이 필요합니다.  </p>
<blockquote>
<p><a href="https://huggingface.co/datasets/Intel/orca_dpo_pairs">Intel Orca DPO Pairs 데이터셋</a> 에서 발췌 했습니다.</p>
</blockquote>
<table>
<thead>
<tr>
<th>프롬프트</th>
<th>On a scale of 1-5 (with 1 being least favorable and 5 being most favorable), how would you rate this review? "Good at all"</th>
</tr>
</thead>
<tbody>
<tr>
<td>선호 응답</td>
<td>I would rate this review as a 5, as it is a positive review with no negative comments or criticisms. The reviewer states that the product is "good at all," which suggests that they are very satisfied with their experience.</td>
</tr>
<tr>
<td>비선호응답</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>이 데이터를 예시로 들면, 대답을 훨씬 더 길게길게 설명을 포함하게 하도록 모델이 align이 되겠죠. </p>
<p>학습 과정은 일반적인 Supervised Learning 과 유사하고, 그냥 SFT 하듯이 하면 알아서 gradient descent 를 계산해서 weight 가 업데이트 됩니다. </p>
<h2 id="zephyr">실제 적용 사례: Zephyr<a class="headerlink" href="#zephyr" title="Permanent link">&para;</a></h2>
<blockquote>
<p>자세한 내용은 <a href="../../case_studies/zephyr/">Zephyr 문서</a> 를 참고하세요.  </p>
</blockquote>
<p>허깅페이스의 Zephyr 모델은 DPO를 활용한 대표적인 사례입니다:</p>
<ol>
<li><strong>SFT</strong>: Mistral-7B를 기반으로 GPT-4가 생성한 응답으로 SFT</li>
<li><strong>DPO</strong>: GPT-4가 평가한 선호도 쌍(UltraFeedback 데이터셋)으로 DPO</li>
</ol>
<p>Zephyr-7B는 MT-Bench에서 LLaMA2-Chat-70B 등 훨씬 큰 모델을 능가하는 성능을 보였으며, 인간의 개입없이 없이 GPT-4의 지식과 선호도를 효과적으로 적용했습니다.</p>
<blockquote>
<p>참고: 이런 방식의 능력 (여기서는 지식과 선호도) 을 가져오는 방식을 Distillation (증류) 라고 합니다. </p>
</blockquote>
<h2 id="_5">기타 선호도 최적화 기법<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<h3 id="orpo-odds-ratio-preference-optimization">ORPO (Odds Ratio Preference Optimization)<a class="headerlink" href="#orpo-odds-ratio-preference-optimization" title="Permanent link">&para;</a></h3>
<p>2024년 KAIST 에서 제안한 DPO의 발전된 형태로, 참조 모델 없이 선호도 최적화를 수행합니다. "단일 단계" 접근법으로 SFT와 선호도 정렬을 동시에 수행하며, 지도학습 손실과 오즈비 기반 선호도 손실을 결합합니다:
Refernece 모델이 필요 없어 메모리 효율성이 높고, SFT와 선호도 학습을 단일 단계로 통합하여 구현이 용이합니다.</p>
<blockquote>
<p>(필자 의견) 아직까지는 큰 사이즈의 모델에서의 성공사례는 보지 못했습니다. 작은 사이즈 (&lt; 10B) 에서는 성공사례가 있습니다. (ex. Zephyr-ORPO)</p>
</blockquote>
<h3 id="simpo-simple-preference-optimization">SimPO (Simple Preference Optimization)<a class="headerlink" href="#simpo-simple-preference-optimization" title="Permanent link">&para;</a></h3>
<p>2024년 Meng 등이 제안한 방법으로, 시퀀스의 평균 로그확률을 보상으로 사용하고 참조 모델을 제거한 간소화된 DPO입니다. 승자와 패자 응답의 로그확률 차이에 margin을 주어 학습 효과를 높였습니다.</p>
<h3 id="ipo-identity-preference-optimization">IPO (Identity Preference Optimization)<a class="headerlink" href="#ipo-identity-preference-optimization" title="Permanent link">&para;</a></h3>
<p>DPO 손실에 정규화 항을 추가하여 과적합을 방지하고 안정적인 수렴을 도모하는 방법입니다.</p>
<h3 id="kto-kahneman-tversky-optimization">KTO (Kahneman-Tversky Optimization)<a class="headerlink" href="#kto-kahneman-tversky-optimization" title="Permanent link">&para;</a></h3>
<p>쌍(pair)이 아닌 개별 응답의 좋고 나쁨 레이블만으로도 학습할 수 있도록 손실을 정의한 방법입니다.</p>
<h2 id="_6">선호도 최적화 기법 비교<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<table>
<thead>
<tr>
<th>기법</th>
<th>학습 방식</th>
<th>필요 구성 요소</th>
<th>안정성</th>
<th>효율성</th>
<th>구현 난이도</th>
</tr>
</thead>
<tbody>
<tr>
<td>RLHF (PPO)</td>
<td>강화학습</td>
<td>보상 모델, 참조 모델</td>
<td>낮음</td>
<td>낮음</td>
<td>높음</td>
</tr>
<tr>
<td>DPO</td>
<td>지도학습</td>
<td>참조 모델</td>
<td>중간~높음</td>
<td>중간~높음</td>
<td>중간</td>
</tr>
<tr>
<td>ORPO</td>
<td>지도학습</td>
<td>없음</td>
<td>중간~높음</td>
<td>높음</td>
<td>낮음</td>
</tr>
</tbody>
</table>
<h2 id="_7">결론<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h2>
<p>선호도 최적화 기법은 LLM을 인간의 가치와 선호에 맞게 정렬하는 핵심 방법론입니다. DPO를 필두로 한 "RLHF에서 RL을 제거"하는 접근법은 LLM 정렬 과정을 크게 단순화했으며, 더 많은 연구자와 개발자가 고품질의 정렬된 모델을 만들 수 있게 했습니다.</p>
<h2 id="_8">참고 문헌<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<ol>
<li>Rafailov, R., Sharma, A., Mitchell, E., Ermon, S., Manning, C. D., &amp; Finn, C. (2023). Direct preference optimization: Your language model is secretly a reward model. arXiv preprint arXiv:2305.18290.</li>
<li>Hong, J., Pang, R., Jeon, H., Kim, J., &amp; Yun, S. (2024). ORPO: Monolithic preference optimization without reference model. arXiv preprint arXiv:2403.07691.</li>
<li>Meng, K., Moradshahi, M., Semnani, S. J., Liang, P., &amp; Zou, J. (2024). SimPO: Simple preference optimization with a reference-free reward. arXiv preprint arXiv:2405.14734.</li>
<li>Tunstall, L., Beeching, E., Lambert, N., Rajani, N., Rasul, K., Bellagente, M., ... &amp; Wolf, T. (2023). Zephyr: Direct distillation of LM alignment. arXiv preprint arXiv:2310.16944.</li>
</ol>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="하단/푸터" >
        
          
          <a href="../supervised_finetuning/" class="md-footer__link md-footer__link--prev" aria-label="이전: SFT (Supervised Fine-Tuning)">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                이전
              </span>
              <div class="md-ellipsis">
                SFT (Supervised Fine-Tuning)
              </div>
            </div>
          </a>
        
        
          
          <a href="../peft_methods/" class="md-footer__link md-footer__link--next" aria-label="다음: PEFT 방법론">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                다음
              </span>
              <div class="md-ellipsis">
                PEFT 방법론
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "navigation.path", "navigation.instant", "navigation.tracking", "navigation.sections", "navigation.footer", "search.suggest", "search.highlight"], "search": "../../assets/javascripts/workers/search.b8dbb3d2.min.js", "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version": "\ubc84\uc804 \uc120\ud0dd"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.fe8b6f2b.min.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>